<?xml version="1.0"?>
<module id="amplafi.flow.core" version="0.0.1">

    <sub-module descriptor="amplafi.flow.definitions.xml"/>
    <sub-module descriptor="flows/amplafi.suppliedflows.xml"/>
    <service-point id="FlowManager" interface="org.amplafi.flow.FlowManager">
        <invoke-factory service-id="amplafi.factory.facade.facadeServicesFactory">
            <service class="com.amplafi.flow.impl.FlowManagerImpl" />
        </invoke-factory>
    </service-point>
    <service-point id="FlowManagement" interface="org.amplafi.flow.FlowManagement">
        Expose the current FlowManagement

        <invoke-factory service-id="hivemind.lib.ServicePropertyFactory">
            <construct service-id="FlowManager" property="flowManagement"/>
        </invoke-factory>
    </service-point>
</module>
